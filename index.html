<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I use these tools and services!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #1e293b; }
        .tool-card { transition: all 0.3s ease; }
        .tool-card:hover { transform: translateY(-5px); }
    </style>
</head>
<body class="p-6 md:p-12">

    <div class="max-w-5xl mx-auto">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4">
                I use these tools and services!
            </h1>
            <p class="text-slate-600 text-lg">A collection of tools and platforms I trust.</p>
        </header>

        <div class="relative max-w-xl mx-auto mb-12">
            <span class="absolute inset-y-0 left-0 flex items-center pl-4">
                <i class="fa-solid fa-magnifying-glass text-slate-400"></i>
            </span>
            <input 
                type="text" 
                id="searchInput" 
                placeholder="Search tools or services..." 
                class="w-full pl-12 pr-4 py-4 rounded-2xl border border-slate-200 focus:ring-4 focus:ring-blue-100 focus:border-blue-500 outline-none transition-all shadow-sm text-lg"
            >
        </div>

        <div id="toolGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div id="loading" class="col-span-full text-center py-10 text-slate-500">
                <i class="fa-solid fa-spinner fa-spin text-3xl mb-2"></i>
                <p>Loading tools...</p>
            </div>
        </div>

        <div id="noResults" class="hidden text-center py-20">
            <i class="fa-solid fa-face-frown text-5xl text-slate-300 mb-4"></i>
            <h3 class="text-xl font-semibold text-slate-900">No tools found</h3>
            <p class="text-slate-500">Try searching for something else.</p>
        </div>
    </div>
    <header class="text-center mb-12">
        <a href="https://tiwut.de/cookie-banner-information.html" style="color: #a0a0a0; text-decoration: none; font-size: 0.8rem;">Legal Notice</a>
    </header>

    <script>
        let tools = [];

        function getDomainName(url) {
            try {
                let domain = new URL(url).hostname;
                domain = domain.replace('www.', '');
                return domain.charAt(0).toUpperCase() + domain.slice(1);
            } catch (e) {
                return url;
            }
        }

        async function loadTools() {
            try {
                const response = await fetch('xam.txt');
                if (!response.ok) throw new Error('Could not find xam.txt');
                
                const text = await response.text();
                const urls = text.split(/\r?\n/).filter(line => line.trim() !== '');
                
                tools = urls.map(url => ({
                    originalUrl: url.startsWith('http') ? url : `https://${url}`,
                    displayName: getDomainName(url.startsWith('http') ? url : `https://${url}`)
                }));

                renderTools(tools);
            } catch (error) {
                document.getElementById('loading').innerHTML = `
                    <p class="text-red-500 font-medium">Error: Please ensure "xam.txt" exists in the same folder.</p>
                `;
                console.error(error);
            }
        }

        function renderTools(list) {
            const grid = document.getElementById('toolGrid');
            const noResults = document.getElementById('noResults');
            const loading = document.getElementById('loading');
            
            if (loading) loading.remove();
            grid.innerHTML = '';

            if (list.length === 0) {
                noResults.classList.remove('hidden');
            } else {
                noResults.classList.add('hidden');
                list.forEach(tool => {
                    const card = document.createElement('a');
                    card.href = tool.originalUrl;
                    card.target = "_blank";
                    card.className = "tool-card bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center space-x-4 hover:shadow-xl hover:border-blue-200 cursor-pointer";
                    
                    card.innerHTML = `
                        <div class="bg-blue-50 p-3 rounded-xl text-blue-600">
                            <i class="fa-solid fa-link text-xl"></i>
                        </div>
                        <div class="overflow-hidden">
                            <h3 class="font-bold text-slate-800 truncate">${tool.displayName}</h3>
                            <p class="text-xs text-slate-400 truncate">${tool.originalUrl}</p>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filtered = tools.filter(t => 
                t.displayName.toLowerCase().includes(searchTerm) || 
                t.originalUrl.toLowerCase().includes(searchTerm)
            );
            renderTools(filtered);
        });

        loadTools();
    </script>
    <script data-goatcounter="https://tiwut.goatcounter.com/count"async src="//gc.zgo.at/count.js"></script>
    <script src="https://tiwut.de/cookie.notice.js"></script>
    <script src="https://tiwut.de/Script/enforce_https.js" defer></script>
</body>
</html>
